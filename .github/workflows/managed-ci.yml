# WARNING: This file is autogenerated - changes will be overwritten when regenerated by https://github.com/nicolewhite-msft/fde-mgmt
name: CI

on: pull_request

jobs:
  pre-commit:
    runs-on: ubuntu-latest
    permissions:
      contents: read
    steps:
      - name: Checkout
        uses: actions/checkout@v6

      - name: Get Python version
        id: version
        run: |
          language_version=$(yq '.default_language_version.python' < .pre-commit-config.yaml)

          # Strip 'python' from language_version: 'python3.12' -> '3.12'
          python_version=${language_version#"python"}

          echo "python-version=$python_version" >> $GITHUB_OUTPUT

      - name: Install Python
        uses: actions/setup-python@v6
        with:
          python-version: ${{ steps.version.outputs.python-version }}

      - name: Run pre-commit hooks
        uses: pre-commit/action@v3.0.1
